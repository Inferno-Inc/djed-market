'use strict';

var _ = require( 'lodash' );
var BaseModel = require( 'djed/interface/model/Model' );
var strictAccess = require( 'djed/interface/model/mixin/StrictAccess' );

module.exports = BaseModel.extend( strictAccess( __filename ) ).extend( {

  initialize: function ( isActive, shouldToggle ) {
    this.shouldToggle = shouldToggle || function () {
      return true;
    };
    this.attributes = {
      isActive: !!isActive
    };
  },

  toggle: function ( isActive ) {
    if ( this.shouldToggle() ) {
      this.attributes.isActive = _.isUndefined( isActive ) ? !this.attributes.isActive : !!isActive;
      this.trigger( 'change', this );
    }
  },

  isActive: function () {
    return this.attributes.isActive;
  }

} );
